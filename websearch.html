<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>图片搜索大全——网页定位导航效果</title>
<link href="websearch.css" rel="stylesheet" type="text/css" />
<script src="http://apps.bdimg.com/libs/jquery/1.11.1/jquery.js"></script>


</head>

<body>

<div id="menu">
    <ul>
        <li><a href="#item1" class="current">1F 美女</a></li>
        <li><a href="#item2">2F 明星</a></li>
        <li><a href="#item3">3F 风景</a></li>
        <li><a href="#item4">4F 花卉</a></li>
        <li><a href="#item5">5F 服饰</a></li>
        <li><a href="#item6">6F 美食</a></li>
        <li><a href="#item7">7F 建筑</a></li>
        <li><a href="#item8">8F 体育</a></li>  
    </ul>
</div>
<div id="content">
     <h1>图片搜索大全</h1>
     <div id="item1" class="item">
          <h2 >1F 美女</h2>
              <ul>
                 <li><a href="#"><img src="image/美女/1.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美女/2.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美女/3.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美女/4.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美女/5.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美女/6.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美女/7.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美女/8.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美女/9.jpg" alt=""/></a></li>
               </ul>   
     </div>
     <div id="item2" class="item">
          <h2>2F 明星</h2>
              <ul>
                 <li><a href="#"><img src="image/明星/1.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/明星/2.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/明星/3.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/明星/4.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/明星/5.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/明星/6.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/明星/7.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/明星/8.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/明星/9.jpg" alt=""/></a></li>
               </ul>   
     </div>
     <div id="item3" class="item">
          <h2>3F 风景</h2>
              <ul>
                 <li><a href="#"><img src="image/风景/1.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/风景/2.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/风景/3.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/风景/4.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/风景/5.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/风景/6.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/风景/7.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/风景/8.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/风景/9.jpg" alt=""/></a></li>
               </ul>   
     </div>
     <div id="item4" class="item">
          <h2>4F 花卉</h2>
              <ul>
                 <li><a href="#"><img src="image/花卉/1.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/花卉/2.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/花卉/3.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/花卉/4.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/花卉/5.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/花卉/6.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/花卉/7.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/花卉/8.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/花卉/9.jpg" alt=""/></a></li>
               </ul>   
     </div>
     <div id="item5" class="item">
          <h2>5F 服饰</h2>
              <ul>
                 <li><a href="#"><img src="image/服饰/1.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/服饰/2.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/服饰/3.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/服饰/4.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/服饰/5.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/服饰/6.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/服饰/7.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/服饰/8.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/服饰/9.jpg" alt=""/></a></li>
               </ul>   
     </div>
     <div id="item6" class="item">
          <h2>6F 美食</h2>
              <ul>
                 <li><a href="#"><img src="image/美食/1.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美食/2.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美食/3.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美食/4.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美食/5.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美食/6.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美食/7.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美食/8.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/美食/9.jpg" alt=""/></a></li>
               </ul>   
     </div>
     <div id="item7" class="item">
          <h2>7F 建筑</h2>
              <ul>
                 <li><a href="#"><img src="image/建筑/1.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/建筑/2.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/建筑/3.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/建筑/4.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/建筑/5.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/建筑/6.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/建筑/7.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/建筑/8.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/建筑/9.jpg" alt=""/></a></li>
               </ul>   
     </div>
     <div id="item8" class="item">
          <h2>8F 体育</h2>
              <ul>
                 <li><a href="#"><img src="image/体育/1.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/体育/2.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/体育/3.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/体育/4.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/体育/5.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/体育/6.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/体育/7.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/体育/8.jpg" alt=""/></a></li>
                 <li><a href="#"><img src="image/体育/9.jpg" alt=""/></a></li>
               </ul>   
     </div>
   

</div>
<script>
 /*   $(document).ready(function(){ 
		 $(window).scroll(function(){
			 var top = $(document).scrollTop();
			  var menu = $("#menu");
			  var items = $("#content").find(".item");
			  
			  var currentId = "";//当前所在的楼层 （item）#id
			  
			  items.each(function() {
                var m= $(this);
				var itemTop = m.offset().top;
				if(top > itemTop-200){
					currentId = "#" + m.attr("id");
					}else{
						return false;
						}
            });
			//给响应的楼层 设置current，取消其他楼层的current
                  var currentLink = menu.find(".current");
				  if(currentId && currentLink.attr("href")!=currentId){
					  currentLink.removeClass("current");
		              menu.find("[href=" + currentId+"]").addClass("current");
					  
					  }

			 });
		 });

*/
function getByClassName(obj,cls){
	var elements = obj.getElementsByTagName("*");
	var result=[];
	for (var i=0; i< elements.lenth; i++){
		if(element[i].className == cls){
			result.push(element[i]);
		}
		}
      return result;
	}
function hasClass(obj, cls){
	    return obj.className.math(new RegExp("(\\s\^)"+cls+"(\\s|$)"));
	}
function removeClass(obj, cls){
	  if(hasClass(obj, cls)){
		  var reg = new RegExp("(\\s\^)"+cls+"(\\s|$)");
		  obj.className = obj.className.replace(reg, "");
		  }
	}
function addClass(obj, cls){
	if(!hasClass(obj, cls)){
		   obj.className +=""+cls;
		}
	
	}
window.onload = function(){
	window.onscroll = function(){
		var top = document.documentElement?document.documentElement.scrollTop:document.body.scrollTop;
		var menus = document.getElementById("menu").getElementsByTagName("a");
		var items = getByClassName(doucument.getElementById("content"),"item");
		var currentId = "";
		for (var i=0;i< items.length;i++){
			var _item = items[i];
			if(top > _itemTop-200){
				currentId = _item.id;
				}else{
					break;
					}
			}
	     if(currentId){
			 //给正确的menu下的a元素class赋值
			 for(var j = 0;j<menu.length;j++){
				 var _menu=menus[j];
				 var _href= _menu.href.split("#");
				 
				 if(_href[_href.length-1]!= currentId ){
					removeClass( _menu, "current");
					 }else{
					 addClass(_menu, "current");	 
						 }	 
			 }
			 
			 }
	
		}
		
		
		
	}
</script>
</body>
</html>
